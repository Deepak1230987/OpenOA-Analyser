@import "tailwindcss";

/*
 * ==========================================================
 *  Professional Design System – CSS Custom Properties
 *  Tailwind v4 theme + Light/Dark mode
 * ==========================================================
 */

@theme {
  /* ── Light palette: warm neutral base, indigo primary ── */
  --color-background: hsl(220 20% 99%);
  --color-foreground: hsl(224 50% 10%);

  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(224 50% 10%);

  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(224 50% 10%);

  --color-primary: hsl(217 91% 50%);
  --color-primary-foreground: hsl(0 0% 100%);

  --color-secondary: hsl(220 14% 96%);
  --color-secondary-foreground: hsl(224 50% 10%);

  --color-muted: hsl(220 14% 96%);
  --color-muted-foreground: hsl(220 9% 46%);

  --color-accent: hsl(220 14% 96%);
  --color-accent-foreground: hsl(224 50% 10%);

  --color-destructive: hsl(0 72% 51%);
  --color-destructive-foreground: hsl(0 0% 100%);

  --color-border: hsl(220 13% 91%);
  --color-input: hsl(220 13% 91%);
  --color-ring: hsl(217 91% 50%);

  --color-success: hsl(152 76% 36%);
  --color-success-foreground: hsl(0 0% 100%);

  --color-warning: hsl(38 92% 50%);
  --color-warning-foreground: hsl(0 0% 100%);

  --color-chart-1: hsl(217 91% 50%);
  --color-chart-2: hsl(152 76% 36%);
  --color-chart-3: hsl(38 92% 50%);
  --color-chart-4: hsl(262 83% 58%);
  --color-chart-5: hsl(338 75% 55%);

  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
}

/*
 * Chart axis/grid CSS custom properties
 * These are NOT Tailwind colours – they're used directly in Recharts
 * via getComputedStyle or var() in SVG.
 */
:root {
  --chart-grid: hsl(220 13% 91%);
  --chart-tick: hsl(220 9% 46%);
  --chart-cursor: hsl(220 13% 91%);
  --chart-dot-stroke: hsl(0 0% 100%);

  /* Series colours – used in Recharts SVG strokes/fills */
  --chart-wind: hsl(199 89% 48%);
  --chart-power: hsl(152 76% 36%);
  --chart-temp: hsl(24 95% 53%);
  --chart-dir: hsl(262 83% 58%);
  --chart-pitch: hsl(338 82% 52%);
  --chart-yaw: hsl(45 93% 47%);
  --chart-primary: hsl(217 91% 50%);
  --chart-primary-light: hsl(217 91% 60%);
  --chart-success: hsl(152 76% 36%);
  --chart-danger: hsl(0 72% 51%);
  --chart-capacity: hsl(262 83% 58%);
}

/* ── Dark theme overrides ── */
.dark {
  --color-background: hsl(224 42% 6%);
  --color-foreground: hsl(220 20% 95%);

  --color-card: hsl(224 36% 9%);
  --color-card-foreground: hsl(220 20% 95%);

  --color-popover: hsl(224 36% 9%);
  --color-popover-foreground: hsl(220 20% 95%);

  --color-primary: hsl(217 91% 60%);
  --color-primary-foreground: hsl(0 0% 100%);

  --color-secondary: hsl(220 26% 14%);
  --color-secondary-foreground: hsl(220 20% 95%);

  --color-muted: hsl(220 26% 14%);
  --color-muted-foreground: hsl(220 12% 60%);

  --color-accent: hsl(220 26% 14%);
  --color-accent-foreground: hsl(220 20% 95%);

  --color-destructive: hsl(0 63% 51%);
  --color-destructive-foreground: hsl(0 0% 100%);

  --color-border: hsl(220 20% 17%);
  --color-input: hsl(220 20% 17%);
  --color-ring: hsl(217 91% 60%);

  --color-success: hsl(152 60% 42%);
  --color-success-foreground: hsl(0 0% 100%);

  --color-warning: hsl(38 92% 55%);
  --color-warning-foreground: hsl(0 0% 100%);

  --color-chart-1: hsl(217 91% 65%);
  --color-chart-2: hsl(152 60% 50%);
  --color-chart-3: hsl(38 92% 60%);
  --color-chart-4: hsl(262 66% 68%);
  --color-chart-5: hsl(338 65% 65%);

  /* Chart overrides for dark mode */
  --chart-grid: hsl(220 20% 19%);
  --chart-tick: hsl(220 12% 58%);
  --chart-cursor: hsl(220 20% 19%);
  --chart-dot-stroke: hsl(224 36% 9%);

  /* Series colours – brighter for dark backgrounds */
  --chart-wind: hsl(199 89% 60%);
  --chart-power: hsl(152 60% 50%);
  --chart-temp: hsl(24 95% 63%);
  --chart-dir: hsl(262 76% 68%);
  --chart-pitch: hsl(338 75% 65%);
  --chart-yaw: hsl(45 93% 57%);
  --chart-primary: hsl(217 91% 65%);
  --chart-primary-light: hsl(217 91% 72%);
  --chart-success: hsl(152 60% 50%);
  --chart-danger: hsl(0 74% 65%);
  --chart-capacity: hsl(262 66% 68%);
}

/* ── Base layer ── */
@layer base {
  *,
  *::before,
  *::after {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
    font-family:
      "Inter",
      ui-sans-serif,
      system-ui,
      -apple-system,
      sans-serif;
  }
}

/* ── Smooth theme transitions ── */
html {
  color-scheme: light;
  transition: color-scheme 0.2s ease;
}
html.dark {
  color-scheme: dark;
}

/* ── Theme transition for key properties ── */
body,
header,
.theme-transition {
  transition:
    background-color 0.3s ease,
    color 0.2s ease,
    border-color 0.2s ease,
    box-shadow 0.2s ease;
}

/* ── Subtle body texture ── */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  opacity: 0.4;
  pointer-events: none;
  background-image:
    radial-gradient(
      circle at 25% 10%,
      hsl(217 91% 50% / 0.04) 0%,
      transparent 50%
    ),
    radial-gradient(
      circle at 80% 80%,
      hsl(152 76% 36% / 0.03) 0%,
      transparent 50%
    );
}
.dark body::before {
  opacity: 0.5;
  background-image:
    radial-gradient(
      circle at 25% 10%,
      hsl(217 91% 60% / 0.06) 0%,
      transparent 50%
    ),
    radial-gradient(
      circle at 80% 80%,
      hsl(152 60% 42% / 0.04) 0%,
      transparent 50%
    );
}

/* ── Custom scrollbar ── */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: hsl(220 9% 78%);
  border-radius: 9999px;
}
::-webkit-scrollbar-thumb:hover {
  background: hsl(220 9% 60%);
}
.dark ::-webkit-scrollbar-thumb {
  background: hsl(220 12% 25%);
}
.dark ::-webkit-scrollbar-thumb:hover {
  background: hsl(220 12% 38%);
}

/* ── Selection colour ── */
::selection {
  background: hsl(217 91% 50% / 0.2);
  color: inherit;
}
.dark ::selection {
  background: hsl(217 91% 60% / 0.3);
}

/* ── Focus ring ── */
:focus-visible {
  outline: 2px solid var(--color-ring);
  outline-offset: 2px;
}

/* ── Utility: gradient text ── */
.text-gradient {
  background: linear-gradient(135deg, hsl(217 91% 50%), hsl(199 89% 48%));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.dark .text-gradient {
  background: linear-gradient(135deg, hsl(217 91% 65%), hsl(199 89% 62%));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ── Shimmer animation for skeletons ── */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}
.skeleton-shimmer {
  background: linear-gradient(
    90deg,
    var(--color-muted) 25%,
    hsl(220 14% 92%) 50%,
    var(--color-muted) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.8s ease-in-out infinite;
}
.dark .skeleton-shimmer {
  background: linear-gradient(
    90deg,
    var(--color-muted) 25%,
    hsl(220 26% 18%) 50%,
    var(--color-muted) 75%
  );
  background-size: 200% 100%;
}
